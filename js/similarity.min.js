var Similarity=function(t){if(this.options={},t)for(var e in t)this.options[e]=t[e];return{VERSION:"1.0",getLcsRate:function(t,e){if(!t||!e)return 0;var n=t;e.length<t.length&&(t=e,e=n);for(var r=0,i=0;i<t.length;i++)if(!(e.indexOf(t[i])<0))for(var g=t.length;g>i;g--)if(e.indexOf(t.substring(i,g))>-1){g-i>r&&(r=g-i);break}return(2*r/(t.length+e.length)).toFixed(4)},getTccRate:function(t,e){function n(t,e){var n=0,r=t.length+e.length;t.indexOf(" ")>-1&&(t=t.split(/\W+/g));for(var i=t.length-1;i>-1;i--)e.indexOf(t[i])>-1&&(n+=2*t[i].length,e=e.replace(t[i],""));return(n/r).toFixed(4)}if(!t||!e)return 0;var r=t;return e.length<t.length&&(t=e,e=r),n(t,e)},get:function(t,e,n,r){return(this.getTccRate(t,e)*(n||.5)+this.getLcsRate(t,e)*(r||.5)).toFixed(4)},getSmartRate:function(t,e,n,r,i){if(!t||!e)return 0;var g=t;e.length<t.length&&(t=e,e=g);for(var h=e.length,f=[],l=0;l<t.length;l++)if(!(e.indexOf(t[l])<0))if(l!=t.length-1){for(var a=l+1;a<=t.length;a++)if(!(e.indexOf(t.substring(l,a))>-1&&a<t.length)){f[a-l]||(f[a-l]=[]),f[a-l].push(t.substring(l,a==t.length?a:a-1)),l=a-1;break}}else f[1]||(f[1]=[]),f[1].push(t[l]);for(var o=[],l=t.length;l>-1;l--)if(!(!l in f)&&f[l])for(var a=0;a<f[l].length;a++)e.indexOf(f[l][a])<0||(e=e.replace(f[l][a],"\n"),o.push(f[l][a]));return g=o.join("").length,(g/h*(n||.5)+(1-o.length/g)*(r||.2)+(o[0]||"").length/h*(i||.3)).toFixed(4)}}}();